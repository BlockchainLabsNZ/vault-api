# Zippie Vault API

Zippie Vault API is the main application interface into [Zippie Vault](https://github.com/zippiehq/vault)

Zippie Vault API provides a simple interface for interacting with Zippie Vault derived cryptographic keys allowing cryptographic signing and encryption of arbitrary data.

Currently the only cryptographic algorithm implemented is Eliptic Curve secp256k1 suitable for Bitcoin and Ethereum Wallets.

## Key Paths
Key paths are to be given in the following format of maximum 16bit integer numbers
m/99999/99999/...

Each key is derived from the given path in a hierarchial manner where the parent path is used to generate all children keys
eg.
m/0/1/2/3; Key 2 is generated by Key 1, which is generated by Key 0
m/0/5; Key 5 is also generated by Key 0 

## Dependencies
 - Node.js
 - NPM

## Building
```bash
npm install
```

## Run Tests
```bash
npm run build-test
npm run test
```

## Example
```javascript
const vault = require("vault-api");
const vaultSecp256k1 = require("vault-api/src/secp256k1.js");

// Init Zippie vault
vault.init().then(
  result => {
    console.log("Init Result: " + result);

    // Sign data with derived private key for path 'm/0'
    vaultSecp256k1
      .sign(vault, "m/0", "data to sign goes here")
      .then(signedOutput => {
        console.log("sign: " + signedOutput);
      });

    // Get derived public key for path 'm/0'
    vaultSecp256k1.keyInfo(vault, "m/0").then(publicKey => {
      console.log("keyInfo: " + publicKey);

      // Encrypt a message
      // NB: Usually you would use someone elses public key
      vaultSecp256k1
        .encrypt(vault, publicKey, "message to encrypt")
        .then(encryptedMessage => {
          console.log("encrypt: " + encryptedMessage);

          // Decrypt a message
          vaultSecp256k1
            .decrypt(vault, "m/0", encryptedMessage)
            .then(message => {
              console.log("decrypt: " + message);
            });
        });
    });
  },
  error => {
    console.log("encountered error: " + error);
  }
);

```
## License

## Contributing
